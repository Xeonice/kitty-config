# Warp-style configuration for kitty
# Include this in kitty.conf: include warp-style.conf

# ============================================
# Fonts - Modern monospace like Warp
# ============================================
# Recommended fonts (in order of preference):
# 1. JetBrains Mono - modern, great ligatures
# 2. Fira Code - popular, excellent ligatures
# 3. SF Mono - Apple's native font
# 4. Hack - clean and readable

font_family      JetBrains Mono
bold_font        JetBrains Mono Bold
italic_font      JetBrains Mono Italic
bold_italic_font JetBrains Mono Bold Italic

# Fallback if JetBrains Mono not installed:
# font_family      Fira Code
# font_family      SF Mono
# font_family      Hack

font_size 14.0

# Enable ligatures for modern look
disable_ligatures never

# Adjust line height for comfortable reading (Warp-like spacing)
modify_font cell_height 110%

# ============================================
# Window size - Large by default
# ============================================

# Don't remember window size, always use specified size
remember_window_size no

# Large initial window (columns x lines)
initial_window_width  160c
initial_window_height 45c

# Or use pixel values for specific screen size:
# initial_window_width  1600
# initial_window_height 1000

# Placement (center on screen)
placement_strategy center

# ============================================
# Window appearance - Clean minimal style
# ============================================

# Hide titlebar for cleaner look (macOS)
hide_window_decorations titlebar-only

# Window padding for breathing room
window_padding_width 16 20

# No window border
window_border_width 0

# Confirm before closing (avoid accidental close)
confirm_os_window_close 0

# ============================================
# Transparency and blur - Warp's signature look
# ============================================

background_opacity 0.88

# Enable dynamic opacity control
dynamic_background_opacity yes

# macOS blur effect (requires macOS 10.14+)
# Note: This creates a frosted glass effect
# Reduced from 20 to 10 for better performance during long sessions
background_blur 10

# ============================================
# macOS specific settings
# ============================================

# Match titlebar to background color
macos_titlebar_color background

# Use Option as Alt for terminal shortcuts
macos_option_as_alt left

# Fast fullscreen transition (quake-style friendly)
macos_traditional_fullscreen yes

# Hide from dock when minimized (optional for quake-style)
# macos_hide_from_tasks yes

# Quit when last window closed
macos_quit_when_last_window_closed no

# Thicken font slightly for better readability
macos_thicken_font 0.25

# ============================================
# Cursor - Modern style
# ============================================

cursor_shape beam
cursor_beam_thickness 2.0
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# ============================================
# Tab bar - Powerline arrow style
# ============================================

tab_bar_edge top
tab_bar_style powerline
tab_powerline_style angled
tab_bar_margin_width 0.0
tab_bar_margin_height 6.0 0.0
tab_bar_min_tabs 1

# Active tab - vibrant accent color
active_tab_font_style   bold
active_tab_foreground   #1a1b26
active_tab_background   #7aa2f7

# Inactive tabs - muted
inactive_tab_font_style normal
inactive_tab_foreground #a9b1d6
inactive_tab_background #24283b

# Tab title: show ~ for home, otherwise folder name
tab_title_template        " {index}: {'~' if tab.active_wd == '/Users/tanghehui' else tab.active_wd.split('/')[-1]} "
active_tab_title_template " {index}: {'~' if tab.active_wd == '/Users/tanghehui' else tab.active_wd.split('/')[-1]} "

# ============================================
# Scrollback and performance
# ============================================

# Limit scrollback to reduce memory and screen jumping
scrollback_lines 2000
scrollback_pager_history_size 50

# Fill new lines from bottom (reduces jumping when output is fast)
scrollback_fill_enlarged_window no

# Smooth scrolling
wheel_scroll_multiplier 3.0
touch_scroll_multiplier 1.0

# Performance optimizations for long-running sessions
repaint_delay 15
input_delay 3
sync_to_monitor no

# ============================================
# Bell - Non-intrusive
# ============================================

enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell no
bell_on_tab no

# ============================================
# URLs - Interactive
# ============================================

detect_urls yes
url_style curly
open_url_with default

# ============================================
# Shell integration
# ============================================

shell_integration enabled

# ============================================
# Remote control (needed for quake-style toggle)
# ============================================

allow_remote_control yes
listen_on unix:/tmp/kitty-socket

# ============================================
# Keyboard shortcuts - Warp-inspired
# ============================================

# Clear shortcuts prefix
kitty_mod ctrl+shift

# Quick opacity adjustments
map kitty_mod+equal set_background_opacity +0.05
map kitty_mod+minus set_background_opacity -0.05
map kitty_mod+0 set_background_opacity 0.88

# Toggle fullscreen (for quake-style)
map cmd+return toggle_fullscreen
map cmd+ctrl+f toggle_fullscreen

# New tab/window
map cmd+t new_tab
map cmd+n new_os_window

# Tab navigation
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# Split panes (Warp-like)
map cmd+d launch --location=vsplit --cwd=current
map cmd+shift+d launch --location=hsplit --cwd=current

# Navigate splits
map cmd+[ neighboring_window left
map cmd+] neighboring_window right
map cmd+shift+[ neighboring_window up
map cmd+shift+] neighboring_window down

# Resize splits
map cmd+left resize_window narrower 3
map cmd+right resize_window wider 3
map cmd+up resize_window taller 3
map cmd+down resize_window shorter 3

# Close
map cmd+w close_window
map cmd+shift+w close_tab

# Scrolling
map cmd+k clear_terminal scroll active
map cmd+shift+k clear_terminal reset active

# Copy/paste
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
